<!DOCTYPE html>
<html lang="id" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Absensi Siswa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateX(-10px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
    </style>
</head>
<body class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 font-sans">
    <div class="min-h-full">
        <!-- Header -->
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="flex items-center space-x-4">
                <div class="bg-indigo-600 p-3 rounded-xl">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
                    </svg>
                </div>
                <div>
                    <h1 class="text-2xl font-bold text-gray-900">Sistem Absensi</h1>
                    <p class="text-sm text-gray-600">SMA Negeri 1 Jakarta</p>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <!-- Filter and Print Controls -->
            <div class="bg-white rounded-xl shadow-md p-6 mb-6 border border-gray-100">
                <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0">
                    <div class="flex items-center space-x-4">
                        <label for="classSelect" class="text-sm font-medium text-gray-700">Pilih Kelas:</label>
                        <select id="classSelect" class="border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500">
                            <option value="12-IPA-1">XII IPA 1</option>
                            <option value="12-IPA-2">XII IPA 2</option>
                            <option value="12-IPS-1">XII IPS 1</option>
                            <option value="11-IPA-1">XI IPA 1</option>
                        </select>

                    </div>
                    <div class="flex space-x-3">
                        <button onclick="window.print()" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg font-medium transition-colors duration-200 flex items-center space-x-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"></path>
                            </svg>
                            <span>Cetak</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Attendance Table -->
            <div class="bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden">
                <div class="px-8 py-6">
                    <div class="text-center mb-6">
                        <h1 class="text-3xl font-bold text-gray-900 mb-2">DAFTAR HADIR SISWA</h1>
                    </div>
                    
                    <div class="flex justify-between items-start mb-6">
                        <div class="space-y-2">
                            <div class="text-sm text-gray-700">
                                <span class="font-medium inline-block w-32">Sekolah</span>
                                <span>: SMA Negeri 1 Jakarta</span>
                            </div>
                            <div class="text-sm text-gray-700">
                                <span class="font-medium inline-block w-32">Mata Pelajaran</span>
                                <span>: Matematika</span>
                            </div>
                            <div class="text-sm text-gray-700">
                                <span class="font-medium inline-block w-32">Guru Mapel</span>
                                <span>: Dra. Siti Aminah, M.Pd</span>
                            </div>
                        </div>
                        
                        <div class="space-y-2">
                            <div class="text-sm text-gray-700">
                                <span class="font-medium inline-block w-28">Tahun Ajaran</span>
                                <span>: 2023/2024</span>
                            </div>
                            <div class="text-sm text-gray-700">
                                <span class="font-medium inline-block w-28">Semester</span>
                                <span>: Genap</span>
                            </div>
                            <div class="text-sm text-gray-700">
                                <span class="font-medium inline-block w-28">Kelas</span>
                                <span>: XII IPA 1</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="overflow-x-auto">
                    <table class="min-w-full border-collapse">
                        <thead class="bg-gray-50">
                            <tr>
                                <th rowspan="3" class="border border-gray-300 px-3 py-2 text-xs font-medium text-gray-700 text-center w-12">No</th>
                                <th rowspan="3" class="border border-gray-300 px-4 py-2 text-xs font-medium text-gray-700 text-center min-w-48">Nama</th>
                                <th colspan="36" class="border border-gray-300 px-2 py-1 text-xs font-medium text-gray-700 text-center">Pertemuan ke</th>
                                <th rowspan="3" class="border border-gray-300 px-1 py-2 text-xs font-medium text-gray-700 text-center w-8">H</th>
                                <th rowspan="3" class="border border-gray-300 px-1 py-2 text-xs font-medium text-gray-700 text-center w-8">S</th>
                                <th rowspan="3" class="border border-gray-300 px-1 py-2 text-xs font-medium text-gray-700 text-center w-8">I</th>
                                <th rowspan="3" class="border border-gray-300 px-1 py-2 text-xs font-medium text-gray-700 text-center w-8">A</th>
                            </tr>
                            <tr id="meetingNumbers">
                                <!-- Meeting numbers 1-36 will be populated by JavaScript -->
                            </tr>
                            <tr id="meetingDates">
                                <!-- Meeting dates will be populated by JavaScript -->
                            </tr>
                        </thead>
                        <tbody id="attendanceTableBody" class="bg-white">
                            <!-- Table rows will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
                
                <!-- Signature Area -->
                <div class="px-8 py-6">
                    <div class="flex justify-between items-start">
                        <div class="text-left">
                            <p class="text-sm text-gray-700 mb-16">Kepala Sekolah,</p>
                            <p class="text-sm text-gray-700 mb-2">Drs. Ahmad Suryadi, M.Pd</p>
                            <div class="border-b border-gray-400 w-48 mb-2"></div>
                            <p class="text-xs text-gray-600">NIP. 196505121990031003</p>
                        </div>
                        
                        <div class="text-right">
                            <p class="text-sm text-gray-700 mb-2">Jakarta, ........................</p>
                            <p class="text-sm text-gray-700 mb-14">Guru Mata Pelajaran,</p>
                            <p class="text-sm text-gray-700 mb-2">Dra. Siti Aminah, M.Pd</p>
                            <div class="border-b border-gray-400 w-48 mb-2 ml-auto"></div>
                            <p class="text-xs text-gray-600">NIP. 197203151998022001</p>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>



    <script>
        // Sample student data
        const students = [
            { no: 1, name: 'Ahmad Rizki Pratama', attendance: Array(36).fill('.') },
            { no: 2, name: 'Siti Nurhaliza', attendance: Array(36).fill('.') },
            { no: 3, name: 'Budi Santoso', attendance: Array(36).fill('.') },
            { no: 4, name: 'Dewi Sartika', attendance: Array(36).fill('.') },
            { no: 5, name: 'Eko Prasetyo', attendance: Array(36).fill('.') },
            { no: 6, name: 'Fitri Handayani', attendance: Array(36).fill('.') },
            { no: 7, name: 'Gilang Ramadhan', attendance: Array(36).fill('.') },
            { no: 8, name: 'Hana Pertiwi', attendance: Array(36).fill('.') },
            { no: 9, name: 'Indra Gunawan', attendance: Array(36).fill('.') },
            { no: 10, name: 'Joko Widodo', attendance: Array(36).fill('.') },
            { no: 11, name: 'Kartika Sari', attendance: Array(36).fill('.') },
            { no: 12, name: 'Lestari Wulandari', attendance: Array(36).fill('.') },
            { no: 13, name: 'Muhammad Fadli', attendance: Array(36).fill('.') },
            { no: 14, name: 'Nurul Hidayah', attendance: Array(36).fill('.') },
            { no: 15, name: 'Oki Setiawan', attendance: Array(36).fill('.') }
        ];

        // Add some sample attendance variations
        students[2].attendance[0] = 's'; // Budi sakit pertemuan 1
        students[4].attendance[1] = 'a'; // Eko alpa pertemuan 2
        students[8].attendance[0] = 'i'; // Indra izin pertemuan 1
        students[6].attendance[2] = 's'; // Gilang sakit pertemuan 3

        let currentStudentIndex = null;
        let currentMeetingIndex = null;

        // Initialize the page
        function init() {
            renderMeetingHeaders();
            renderAttendanceTable();
        }

        // Generate meeting dates (sample dates for a semester)
        function generateMeetingDates() {
            const dates = [];
            const startDate = new Date('2024-01-15'); // Start of semester
            
            for (let i = 0; i < 36; i++) {
                const meetingDate = new Date(startDate);
                meetingDate.setDate(startDate.getDate() + (i * 7)); // Weekly meetings
                dates.push(meetingDate.toLocaleDateString('id-ID', { 
                    day: '2-digit', 
                    month: '2-digit' 
                }));
            }
            return dates;
        }

        // Render meeting headers
        function renderMeetingHeaders() {
            const meetingNumbers = document.getElementById('meetingNumbers');
            const meetingDates = document.getElementById('meetingDates');
            const dates = generateMeetingDates();
            
            meetingNumbers.innerHTML = '';
            meetingDates.innerHTML = '';
            
            for (let i = 1; i <= 36; i++) {
                const numberCell = document.createElement('th');
                numberCell.className = 'border border-gray-300 px-1 py-1 text-xs font-medium text-gray-700 text-center w-8';
                numberCell.textContent = i;
                meetingNumbers.appendChild(numberCell);
                
                const dateCell = document.createElement('th');
                dateCell.className = 'border border-gray-300 px-1 py-1 text-xs text-gray-600 text-center w-8';
                dateCell.style.writingMode = 'vertical-rl';
                dateCell.style.textOrientation = 'mixed';
                dateCell.style.transform = 'rotate(180deg)';
                dateCell.textContent = dates[i-1];
                meetingDates.appendChild(dateCell);
            }
            
            // No additional headers needed for H, S, I, A as they are already in the main header row
        }

        // Render attendance table
        function renderAttendanceTable() {
            const tbody = document.getElementById('attendanceTableBody');
            tbody.innerHTML = '';

            students.forEach((student, studentIndex) => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50';
                
                // Student number
                const noCell = document.createElement('td');
                noCell.className = 'border border-gray-300 px-3 py-2 text-sm text-gray-900 text-center font-medium';
                noCell.textContent = student.no;
                row.appendChild(noCell);
                
                // Student name
                const nameCell = document.createElement('td');
                nameCell.className = 'border border-gray-300 px-4 py-2 text-sm text-gray-900';
                nameCell.textContent = student.name;
                row.appendChild(nameCell);
                
                // Attendance cells for each meeting
                student.attendance.forEach((status, meetingIndex) => {
                    const attendanceCell = document.createElement('td');
                    attendanceCell.className = 'border border-gray-300 px-1 py-2 text-sm text-center w-8';
                    attendanceCell.textContent = status;
                    
                    // Color coding for different statuses
                    if (status === 's') {
                        attendanceCell.classList.add('bg-yellow-100', 'text-yellow-800', 'font-bold');
                    } else if (status === 'i') {
                        attendanceCell.classList.add('bg-blue-100', 'text-blue-800', 'font-bold');
                    } else if (status === 'a') {
                        attendanceCell.classList.add('bg-red-100', 'text-red-800', 'font-bold');
                    } else if (status === '.') {
                        attendanceCell.classList.add('text-green-600', 'font-bold');
                    }
                    
                    row.appendChild(attendanceCell);
                });
                
                // Add summary cells for H, S, I, A
                const counts = { '.': 0, 's': 0, 'i': 0, 'a': 0 };
                student.attendance.forEach(status => {
                    counts[status] = (counts[status] || 0) + 1;
                });
                
                // Create separate cells for H, S, I, A
                const countValues = [counts['.'], counts['s'], counts['i'], counts['a']];
                countValues.forEach(count => {
                    const countCell = document.createElement('td');
                    countCell.className = 'border border-gray-300 px-1 py-2 text-xs text-center w-8';
                    countCell.textContent = count;
                    row.appendChild(countCell);
                });
                
                tbody.appendChild(row);
            });
        }

        // Get status styling class
        function getStatusClass(status) {
            const classes = {
                'hadir': 'bg-green-100 text-green-800',
                'terlambat': 'bg-yellow-100 text-yellow-800',
                'tidak-hadir': 'bg-red-100 text-red-800',
                'izin': 'bg-blue-100 text-blue-800'
            };
            return classes[status] || 'bg-gray-100 text-gray-800';
        }

        // Get status text
        function getStatusText(status) {
            const texts = {
                'hadir': 'Hadir',
                'terlambat': 'Terlambat',
                'tidak-hadir': 'Tidak Hadir',
                'izin': 'Izin'
            };
            return texts[status] || 'Unknown';
        }



        // Initialize the application
        init();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9949d2a89684e141',t:'MTc2MTQ4MDMzNy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
